version: '2.1'
services:
  authentication:
    build: 
      context: ./authentication
      dockerfile: DockerFile
    environment:
      SERVICE_NAME: authentication
  notifications:
    build: 
      context: ./notifications
      dockerfile: DockerFile
    environment:
      SERVICE_NAME: notifications
  transactions:
    build: 
      context: ./transactions
      dockerfile: DockerFile
    environment:
      SERVICE_NAME: transactions
  user:
    build: 
      context: ./users   
      dockerfile: DockerFile
    environment:
      SERVICE_NAME: user
    container_name: user_service  
    ports:
    - 80

  gateway:
    build: 
      context: ./api-gateway  
      dockerfile: DockerFile    
    links:
      - authentication
      - notifications
      - transactions
      - users
    ports:
      - "80:80"
    
